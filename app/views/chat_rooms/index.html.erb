<div class="container mt-4">


  <ul class="list-group">
    <% @chat_rooms.each do |chat_room| %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <%= link_to chat_room.name, chat_room_path(chat_room), class: "fw-bold text-decoration-none" %>
          <span class="text-muted ms-2">(<%= chat_room.chat_messages.count %> messages)</span>
        </div>
        <% if chat_room.creator == current_user %>
          <%= button_to "Delete", chat_room_path(chat_room), method: :delete,
                class: "btn btn-outline-danger btn-sm" %>
        <% end %>
      </li>
    <% end %>
  </ul>

  <div class="mt-3">
    <%= link_to "Back to Home", root_path, class: "btn btn-secondary" %>
  </div>

</div>
<h2 class="h5 text-secondary mb-2">Create a New Chat Room</h2>
  <%= form_with model: ChatRoom.new, url: chat_rooms_path, local: true, html: { class: "mb-4 row g-2 align-items-center" } do |f| %>
    <div class="col-auto">
      <%= f.label :name, "Chat Name", class: "form-label" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>
    <div class="col-auto mt-4">
      <%= f.submit "Create Chat", class: "btn btn-primary" %>
    </div>
  <% end %>
