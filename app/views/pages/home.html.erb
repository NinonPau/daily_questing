<% if user_signed_in? %>
  <!-- Hero Header -->
  <header class="text-center my-4">
    <div class="card shadow-lg p-4" style="max-width: 600px; margin: 0 auto; border-radius: 18px; background: linear-gradient(135deg, #3498db, #8e44ad); color: white;">
      <h2 style="font-size: 2rem; font-weight: bold;"><%= @user.username %></h2>
      <p style="font-size: 1.2rem; margin: 0.5rem 0;">XP: <strong><%= current_user.total_xp || 0 %></strong></p>
      <p style="font-size: 1.1rem;"> Mood: <%= current_user.user_mood ? current_user.user_mood.mood_type : "Not logged" %></p>
      <div class="mt-3">
        <%= button_to "Log Out",
              destroy_user_session_path,
              method: :delete,
              class: "btn btn-light btn-sm mx-2",
              style: "border-radius: 12px;" %>
      </div>
    </div>
  </header>

  <!-- Dashboard Actions -->
  <div class="d-flex justify-content-center flex-wrap gap-3 my-4">
    <%= link_to "Add Special Quest", new_task_path, class: "btn btn-primary btn-lg shadow-sm", style: "border-radius: 15px; min-width: 180px;" %>
    <%= link_to "View Quests", tasks_path, class: "btn btn-success btn-lg shadow-sm", style: "border-radius: 15px; min-width: 180px;" %>

    <%= simple_form_for :user_mood, url: user_moods_path do |f| %>
      <%= f.submit "Log Mood", class: "btn btn-warning btn-lg shadow-sm", style: "border-radius: 15px; min-width: 180px;" %>
    <% end %>

    <%= simple_form_for :task, url: random_tasks_path do |f| %>
      <%= f.submit "Random Quest", class: "btn btn-pink btn-lg shadow-sm", style: "border-radius: 15px; min-width: 180px;" %>
    <% end %>
  </div>
<% else %>
  <%= render "public_home" %>
<% end %>
