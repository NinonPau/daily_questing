<header class="text-center my-4">

  <div class="heroheader-box">

    <div class="heroheader-user-row">
      <div class="heroheader-username"><%= current_user.username %></div>
      <div class="heroheader-level-and-icon">
        <div class="heroheader-level"> Level:<%= current_user.current_level || 0 %></div>
        <div class="level-icon">
          <% icon_class = case current_user.current_level
             when 1 then "fa-ghost"
             when 2 then "fa-hat-wizard"
             when 3 then "fa-crown"
             when 4,8,9,10 then "fa-dragon"
             when 5 then "fa-d-and-d"
             when 6 then "fa-skull-crossbones"
             when 7 then "fa-skull-crossbones"
             end
          %>

          <!-- Mood attribute added for animation -->
          <i class="fa-solid <%= icon_class %> fa-3x" data-mood="<%= current_user.user_mood&.mood_type&.downcase&.gsub("'", "") %>"></i>
        </div>
      </div>
    </div>

    <div class="xp-bar-container">
      <div class="xp-fill" style="width: <%= current_user.xp_progress_percent[:percent] %>%;"></div>
    </div>

    <div class="heroheader-exp-row">
      <div class="heroheader-exp">XP: <%= (current_user.total_xp || 0).round(0) %></div>
      <div class="exp-remain">
       Remaining:<%= current_user.xp_progress_percent[:remaining] || 0 %>
      </div>
    </div>

    <div class="heroheader-mood">
      <div class="heroheader-mood-type">
        Mood: <%= current_user.user_mood.mood_type %>
      </div>
      <div class="heroheader-mood-bonus">
        Bonus: <%= current_user.user_mood.xp_bonus %>x
      </div>
    </div>

  </div>
</header>

