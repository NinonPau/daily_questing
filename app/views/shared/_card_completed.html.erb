<div class="renata-card completed-card text-white">

  <!-- Card body -->
  <div class="card-body">
    <h4 class="task-title"><%= task.name %></h4>
    <p class="card-text"><%= task.description %></p>
    <p>XP Reward: <strong><%= task.xp || 0 %> XP</strong></p>

    <% if task.daily? %>
      <p><em>Daily Quest</em></p>
    <% else %>
      <p><em>For <%= task.date.strftime("%d %b %Y") %></em></p>
    <% end %>

    <% visible_participants = task.task_participants.where.not(status: "declined") %>
    <% if visible_participants.any? %>
      <p>
        Participants:
        <% visible_participants.each do |tp| %>
          <% css_class = tp.status == "pending" ? "pending-player" : "accepted-player" %>
          <span class="<%= css_class %>"><%= tp.user.username %></span><%= "," unless tp == visible_participants.last %>
        <% end %>
      </p>
    <% else %>
      <p>Creator: <%= task.user.username %></p>
    <% end %>
  </div>

  <!-- Card footer (empty for completed) -->
  <div class="card-footer actions-footer"></div>
</div>
